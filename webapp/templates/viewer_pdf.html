{% extends "base.html" %}

{% block title %}View: {{ filename }} - OkShare{% endblock %}

{% block content %}
<div class="header">
    <h1>ğŸ“‘ PDF Viewer</h1>
    <p>{{ filename }}</p>
</div>

<div class="card">
    <div
        style="margin-bottom: 20px; padding: 15px; background-color: #fff3cd; border-radius: 6px; border: 1px solid #ffeaa7;">
        <strong>âš ï¸ Zero-Leak Mode:</strong> This PDF is decrypted and displayed in-browser only. It won't be saved to
        disk unless you explicitly download it.
    </div>

    <div
        style="width: 100%; height: 700px; border-radius: 8px; overflow: hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
        <iframe src="{{ url_for('stream_file', package_id=package_id) }}" width="100%" height="100%"
            style="border: none;"></iframe>
    </div>

    <div style="margin-top: 20px; display: flex; gap: 10px;">
        <a href="{{ url_for('dashboard') }}" class="btn btn-secondary">
            â† Back to Dashboard
        </a>
        <a href="{{ url_for('download_file', package_id=package_id) }}" class="btn btn-danger"
            onclick="return confirm('Download will save the file to your computer. Continue?');">
            â¬‡ï¸ Download (Breaks Zero-Leak)
        </a>
    </div>
</div>
{% endblock %}
